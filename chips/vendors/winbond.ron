// Winbond SPI Flash Chips
// Ported from flashprog/flashchips.c

(
    vendor: "Winbond",
    manufacturer_id: 0xEF,
    chips: [
        // W25Q series - 3.3V variants
        (
            name: "W25Q16.V",
            device_id: 0x4015,
            total_size: MiB(2),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, qe_sr2: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 512)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 64)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 32)]),
                (opcode: 0x60, regions: [(size: MiB(2), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(2), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q32.V",
            device_id: 0x4016,
            total_size: MiB(4),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, qe_sr2: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 1024)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 128)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 64)]),
                (opcode: 0x60, regions: [(size: MiB(4), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(4), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q64.V",
            device_id: 0x4017,
            total_size: MiB(8),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, qe_sr2: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 2048)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 256)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 128)]),
                (opcode: 0x60, regions: [(size: MiB(8), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(8), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q128.V",
            device_id: 0x4018,
            total_size: MiB(16),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, qe_sr2: true, wp_tb: true, wp_sec: true, wp_cmp: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 4096)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 512)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 256)]),
                (opcode: 0x60, regions: [(size: MiB(16), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(16), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok, wp: Ok),
        ),
        (
            name: "W25Q256JV_Q",
            device_id: 0x4019,
            total_size: MiB(32),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, four_byte_addr: true, four_byte_enter: true, four_byte_native: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, qe_sr2: true, wp_tb: true, wp_cmp: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x21, regions: [(size: KiB(4), count: 8192)]),
                (opcode: 0x20, regions: [(size: KiB(4), count: 8192)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 1024)]),
                (opcode: 0xDC, regions: [(size: KiB(64), count: 512)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 512)]),
                (opcode: 0x60, regions: [(size: MiB(32), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(32), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q512JV",
            device_id: 0x4020,
            total_size: MiB(64),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, four_byte_addr: true, four_byte_enter: true, four_byte_native: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, qe_sr2: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x21, regions: [(size: KiB(4), count: 16384)]),
                (opcode: 0x20, regions: [(size: KiB(4), count: 16384)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 2048)]),
                (opcode: 0xDC, regions: [(size: KiB(64), count: 1024)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 1024)]),
                (opcode: 0x60, regions: [(size: MiB(64), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(64), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),

        // W25Q series - 1.8V variants
        (
            name: "W25Q16.W",
            device_id: 0x6015,
            total_size: MiB(2),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, qpi: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 1700, max: 1950),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 512)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 64)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 32)]),
                (opcode: 0x60, regions: [(size: MiB(2), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(2), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q32.W",
            device_id: 0x6016,
            total_size: MiB(4),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, qpi: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 1700, max: 1950),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 1024)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 128)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 64)]),
                (opcode: 0x60, regions: [(size: MiB(4), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(4), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q64.W",
            device_id: 0x6017,
            total_size: MiB(8),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, qpi: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 1700, max: 1950),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 2048)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 256)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 128)]),
                (opcode: 0x60, regions: [(size: MiB(8), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(8), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q128.W",
            device_id: 0x6018,
            total_size: MiB(16),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, qpi: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 1700, max: 1950),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 4096)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 512)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 256)]),
                (opcode: 0x60, regions: [(size: MiB(16), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(16), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q256JW",
            device_id: 0x6019,
            total_size: MiB(32),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, four_byte_addr: true, four_byte_enter: true, four_byte_native: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 1650, max: 1950),
            erase_blocks: [
                (opcode: 0x21, regions: [(size: KiB(4), count: 8192)]),
                (opcode: 0x20, regions: [(size: KiB(4), count: 8192)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 1024)]),
                (opcode: 0xDC, regions: [(size: KiB(64), count: 512)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 512)]),
                (opcode: 0x60, regions: [(size: MiB(32), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(32), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),

        // W25Q JV-M series (QE=0 by default)
        (
            name: "W25Q32JV_M",
            device_id: 0x7016,
            total_size: MiB(4),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 1024)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 128)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 64)]),
                (opcode: 0x60, regions: [(size: MiB(4), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(4), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q64JV_M",
            device_id: 0x7017,
            total_size: MiB(8),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 2048)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 256)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 128)]),
                (opcode: 0x60, regions: [(size: MiB(8), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(8), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q128JV_M",
            device_id: 0x7018,
            total_size: MiB(16),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, otp: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, status_reg_3: true, qe_sr2: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 4096)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 512)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 256)]),
                (opcode: 0x60, regions: [(size: MiB(16), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(16), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25Q256JV_M",
            device_id: 0x7019,
            total_size: MiB(32),
            features: (wrsr_wren: true, fast_read: true, dual_io: true, quad_io: true, qpi: true, otp: true, four_byte_addr: true, four_byte_enter: true, four_byte_native: true, erase_4k: true, erase_32k: true, erase_64k: true, status_reg_2: true, qe_sr2: true, wp_tb: true, wp_cmp: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x21, regions: [(size: KiB(4), count: 8192)]),
                (opcode: 0x20, regions: [(size: KiB(4), count: 8192)]),
                (opcode: 0x52, regions: [(size: KiB(32), count: 1024)]),
                (opcode: 0xDC, regions: [(size: KiB(64), count: 512)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 512)]),
                (opcode: 0x60, regions: [(size: MiB(32), count: 1)]),
                (opcode: 0xC7, regions: [(size: MiB(32), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),

        // W25X series (older, no quad support)
        (
            name: "W25X10",
            device_id: 0x3011,
            total_size: KiB(128),
            features: (wrsr_wren: true, fast_read: true, erase_4k: true, erase_64k: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 32)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 2)]),
                (opcode: 0xC7, regions: [(size: KiB(128), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25X20",
            device_id: 0x3012,
            total_size: KiB(256),
            features: (wrsr_wren: true, fast_read: true, erase_4k: true, erase_64k: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 64)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 4)]),
                (opcode: 0xC7, regions: [(size: KiB(256), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25X40",
            device_id: 0x3013,
            total_size: KiB(512),
            features: (wrsr_wren: true, fast_read: true, erase_4k: true, erase_64k: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 128)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 8)]),
                (opcode: 0xC7, regions: [(size: KiB(512), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25X80",
            device_id: 0x3014,
            total_size: MiB(1),
            features: (wrsr_wren: true, fast_read: true, erase_4k: true, erase_64k: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 256)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 16)]),
                (opcode: 0xC7, regions: [(size: MiB(1), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25X16",
            device_id: 0x3015,
            total_size: MiB(2),
            features: (wrsr_wren: true, fast_read: true, erase_4k: true, erase_64k: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 512)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 32)]),
                (opcode: 0xC7, regions: [(size: MiB(2), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25X32",
            device_id: 0x3016,
            total_size: MiB(4),
            features: (wrsr_wren: true, fast_read: true, erase_4k: true, erase_64k: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 1024)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 64)]),
                (opcode: 0xC7, regions: [(size: MiB(4), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
        (
            name: "W25X64",
            device_id: 0x3017,
            total_size: MiB(8),
            features: (wrsr_wren: true, fast_read: true, erase_4k: true, erase_64k: true),
            voltage: (min: 2700, max: 3600),
            erase_blocks: [
                (opcode: 0x20, regions: [(size: KiB(4), count: 2048)]),
                (opcode: 0xD8, regions: [(size: KiB(64), count: 128)]),
                (opcode: 0xC7, regions: [(size: MiB(8), count: 1)]),
            ],
            tested: (probe: Ok, read: Ok, erase: Ok, write: Ok),
        ),
    ],
)
